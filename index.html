<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neon Trance Terminal v4.3 - Turbo UI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #010005;
            color: #0ff;
            font-family: 'Share Tech Mono', monospace;
        }
        canvas {
            display: block;
        }
        
        .crt-overlay {
            position: fixed;
            inset: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.02), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.02));
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
            z-index: 50;
        }

        .vignette {
            position: fixed;
            inset: 0;
            background: radial-gradient(circle, rgba(0,0,0,0) 20%, rgba(0,0,0,0.95) 100%);
            pointer-events: none;
            z-index: 40;
        }

        /* Responsive Container */
        .stage {
            position: fixed;
            top: 45%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 1200px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 20;
            pointer-events: none;
        }

        .word-layer {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1200px;
        }

        .word-active {
            display: block;
            opacity: 0;
            transition: opacity 0.15s, transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
            transform: scale(0.5) translateZ(-200px);
            filter: blur(12px);
            text-shadow: 0 0 30px rgba(0, 255, 255, 0.8);
            text-align: center;
            /* Fluid Typography */
            font-size: clamp(1.5rem, 8vw, 6rem);
            line-height: 1.1;
            white-space: normal;
            word-wrap: break-word;
            width: 100%;
        }

        .word-visible {
            opacity: 1;
            transform: scale(1.1) translateZ(50px);
            filter: blur(0px);
        }

        .controls-overlay {
            position: absolute;
            bottom: 20px; 
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 5, 10, 0.95);
            border: 1px solid rgba(0, 255, 255, 0.2);
            backdrop-filter: blur(20px);
            padding: 16px;
            border-radius: 4px;
            /* SPEED UP: Reduced from 0.6s to 0.2s for snappy response */
            transition: all 0.2s cubic-bezier(0.23, 1, 0.32, 1);
            max-width: 95vw;
            width: 580px;
            z-index: 100;
            pointer-events: auto;
            box-shadow: 0 0 40px rgba(0, 0, 0, 1);
        }

        .hidden-ui {
            opacity: 0;
            transform: translate(-50%, 50px) scale(0.95);
            pointer-events: none;
        }

        .cmd-btn {
            @apply flex-1 py-2 text-[9px] md:text-[10px] tracking-[0.1em] md:tracking-[0.25em] font-bold border border-cyan-900 bg-black text-cyan-500 hover:border-cyan-400 hover:text-white transition-all duration-300 uppercase;
            box-shadow: inset 0 0 10px rgba(0,0,0,1);
        }

        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 16px;
            width: 4px;
            background: #0ff;
            cursor: pointer;
            box-shadow: 0 0 15px #0ff;
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 2px;
            background: #002222;
        }

        .modal-bg {
            position: fixed;
            inset: 0;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 200;
            /* SPEED UP: Reduced from 1.5s to 0.5s */
            transition: opacity 0.5s ease;
            padding: 20px;
        }

        .nebula-text {
            background: linear-gradient(to right, #fff, #0ff, #f0f, #fff);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: nebula-flow 4s linear infinite;
            font-size: clamp(2rem, 10vw, 5rem);
        }

        @keyframes nebula-flow {
            to { background-position: 200% center; }
        }
    </style>
</head>
<body>

    <div class="crt-overlay"></div>
    <div class="vignette"></div>

    <div id="startModal" class="modal-bg">
        <div class="text-center p-6 md:p-12 border border-cyan-500/20 bg-black/50 backdrop-blur-md max-w-xl w-full">
            <h1 class="font-black mb-4 tracking-widest nebula-text">DESTINY</h1>
            <p class="text-cyan-700 text-[10px] md:text-xs mb-8 tracking-[0.3em] md:tracking-[0.5em] uppercase">Reconfiguring...</p>
            <button onclick="startExperience()" class="group relative px-8 md:px-12 py-4 md:py-5 border border-cyan-500 text-cyan-400 font-bold overflow-hidden transition-all hover:text-black">
                <span class="relative z-10 text-xs md:text-base">[ INITIATE ]</span>
                <div class="absolute inset-0 bg-cyan-500 translate-y-full group-hover:translate-y-0 transition-transform duration-300"></div>
            </button>
        </div>
    </div>

    <div class="stage">
        <div class="word-layer">
            <h2 id="hypnoWord" class="word-active font-black uppercase tracking-[0.3em]"></h2>
        </div>
    </div>

    <canvas id="spiralCanvas"></canvas>

    <div id="controls" class="controls-overlay hidden-ui">
        <div class="flex gap-2 mb-6 md:mb-8">
            <button class="cmd-btn" onclick="setPreset(7, 0.005, 0.8)">Stellar</button>
            <button class="cmd-btn" onclick="setPreset(12, 0.02, 2.5)">Horizon</button>
            <button class="cmd-btn" onclick="setPreset(528, 0.04, 4.0)">Singularity</button>
        </div>

        <div class="grid grid-cols-2 gap-x-6 md:gap-x-12 gap-y-4 md:gap-y-6">
            <div class="space-y-1">
                <div class="flex justify-between text-[8px] md:text-[10px] uppercase font-bold text-cyan-500">
                    <span>Rate</span>
                    <span id="speedVal">0.02</span>
                </div>
                <input type="range" id="speedRange" min="-0.15" max="0.15" step="0.001" value="0.02">
            </div>
            <div class="space-y-1">
                <div class="flex justify-between text-[8px] md:text-[10px] uppercase font-bold text-fuchsia-500">
                    <span>Harmonic</span>
                    <span id="freqVal">8Hz</span>
                </div>
                <input type="range" id="freqRange" min="1" max="1000" step="1" value="8">
            </div>
            <div class="space-y-1">
                <div class="flex justify-between text-[8px] md:text-[10px] uppercase font-bold text-cyan-500">
                    <span>Depth</span>
                    <span id="thickVal">3.0</span>
                </div>
                <input type="range" id="thickRange" min="0.5" max="8" step="0.1" value="3.0">
            </div>
            <div class="space-y-1">
                <div class="flex justify-between text-[8px] md:text-[10px] uppercase font-bold text-fuchsia-500">
                    <span>Aura</span>
                    <span id="volVal">20%</span>
                </div>
                <input type="range" id="volumeRange" min="0" max="0.5" step="0.01" value="0.2">
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('spiralCanvas');
        const ctx = canvas.getContext('2d', { alpha: false });
        const wordEl = document.getElementById('hypnoWord');
        const controls = document.getElementById('controls');
        const startModal = document.getElementById('startModal');
        
        let width, height, centerX, centerY;
        let time = 0, isStarted = false;
        let audioCtx, leftOsc, rightOsc, leftGain, rightGain;

        const commands = [
            "AROUSED", "PLEASURE", "CUM", "WET", "HOT",
            "IRRESISTABLE", "RUB", "PLEASURE", "MASTRUBATE", "NAKED", "FUCK ME",
            "HORNY", "SHOW OFF", "DEEPER", "SINKING", "STRIP", "TOY"
        ];

        const speedInput = document.getElementById('speedRange');
        const freqInput = document.getElementById('freqRange');
        const thickInput = document.getElementById('thickRange');
        const volumeInput = document.getElementById('volumeRange');

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            centerX = width / 2;
            centerY = height / 2;
        }

        window.addEventListener('resize', resize);
        resize();

        function startExperience() {
            startModal.style.opacity = '0';
            // SPEED UP: Modal removes from DOM faster to match new CSS transition
            setTimeout(() => startModal.style.display = 'none', 500);
            isStarted = true;
            initAudio();
            animate();
            cycleWords();
        }

        function cycleWords() {
            if(!isStarted) return;
            const word = commands[Math.floor(Math.random() * commands.length)];
            wordEl.innerText = word;
            
            const styles = [
                'text-white drop-shadow-[0_0_15px_rgba(255,255,255,0.8)]',
                'bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 via-white to-fuchsia-500',
                'text-cyan-300 drop-shadow-[0_0_20px_rgba(0,255,255,0.6)]',
                'text-fuchsia-400 border-y border-fuchsia-500/30 py-2'
            ];
            
            // Clean class management: font-size is now handled by responsive CSS clamp()
            wordEl.className = `word-active font-black uppercase tracking-[0.2em] md:tracking-[0.4em] ${styles[Math.floor(Math.random()*styles.length)]}`;
            
            requestAnimationFrame(() => {
                wordEl.classList.add('word-visible');
            });
            
            setTimeout(() => {
                wordEl.classList.remove('word-visible');
                setTimeout(cycleWords, 600 + Math.random() * 1200);
            }, 1400);
        }

        function initAudio() {
            try {
                const AC = window.AudioContext || window.webkitAudioContext;
                audioCtx = new AC();
                leftOsc = audioCtx.createOscillator();
                rightOsc = audioCtx.createOscillator();
                leftGain = audioCtx.createGain();
                rightGain = audioCtx.createGain();
                
                leftOsc.type = 'sine';
                rightOsc.type = 'sine';
                
                leftOsc.connect(leftGain).connect(audioCtx.destination);
                rightOsc.connect(rightGain).connect(audioCtx.destination);
                
                leftOsc.start();
                rightOsc.start();
                updateAudio();
            } catch(e) { console.error("Audio init failed", e); }
        }

        function updateAudio() {
            if(!audioCtx) return;
            const freq = parseFloat(freqInput.value);
            const vol = parseFloat(volumeInput.value);
            const base = 55;

            leftOsc.frequency.setTargetAtTime(base, audioCtx.currentTime, 0.2);
            rightOsc.frequency.setTargetAtTime(base + freq/10, audioCtx.currentTime, 0.2);
            leftGain.gain.setTargetAtTime(vol, audioCtx.currentTime, 0.2);
            rightGain.gain.setTargetAtTime(vol, audioCtx.currentTime, 0.2);

            document.getElementById('speedVal').innerText = speedInput.value;
            document.getElementById('freqVal').innerText = freq + 'Hz';
            document.getElementById('thickVal').innerText = thickInput.value;
            document.getElementById('volVal').innerText = Math.round(vol * 100) + '%';
        }

        function setPreset(f, s, d) {
            freqInput.value = f;
            speedInput.value = s;
            thickInput.value = d;
            updateAudio();
        }

        [speedInput, freqInput, thickInput, volumeInput].forEach(el => el.addEventListener('input', updateAudio));

        function draw() {
            ctx.fillStyle = 'rgba(1, 0, 5, 0.2)';
            ctx.fillRect(0, 0, width, height);

            const speed = parseFloat(speedInput.value);
            const depth = parseFloat(thickInput.value);
            time += speed;

            ctx.save();
            ctx.translate(centerX, centerY);

            const rings = 60;
            const viewRadius = Math.max(width, height) * 1.5;

            for(let i = 0; i < rings; i++) {
                let z = (i - (time * 15 % 15));
                if(z < 0) z += rings;
                
                const progress = (rings - z) / rings;
                const scale = Math.pow(progress, depth) * viewRadius;
                if(scale < 1) continue;

                const rot = time * 0.3 + (progress * 4);
                const hue = (180 + progress * 120) % 360;
                
                ctx.beginPath();
                const sides = 6;
                for(let j = 0; j <= sides; j++) {
                    const angle = (Math.PI * 2 / sides * j) + rot;
                    const x = Math.cos(angle) * scale;
                    const y = Math.sin(angle) * scale;
                    if(j === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                
                ctx.strokeStyle = `hsla(${hue}, 100%, 60%, ${progress * 0.8})`;
                ctx.lineWidth = 0.5 + progress * 8;
                
                if(i % 12 === 0) {
                    ctx.shadowBlur = 20 * progress;
                    ctx.shadowColor = `hsl(${hue}, 100%, 50%)`;
                } else {
                    ctx.shadowBlur = 0;
                }
                
                ctx.stroke();
            }
            ctx.restore();
            
            // Random static bits
            if(Math.random() > 0.8) {
                ctx.fillStyle = '#fff';
                ctx.fillRect(Math.random()*width, Math.random()*height, 1, 1);
            }
        }

        function animate() {
            draw();
            requestAnimationFrame(animate);
        }

        let uiTimer;
        const triggerUI = () => {
            if(!isStarted) return;
            controls.classList.remove('hidden-ui');
            clearTimeout(uiTimer);
            // SPEED UP: Auto-hide after 1.5s instead of 4s
            uiTimer = setTimeout(() => controls.classList.add('hidden-ui'), 1500);
        };

        window.addEventListener('mousemove', triggerUI);
        window.addEventListener('touchstart', triggerUI);
    </script>
</body>
</html>
